<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEVstore</title>
    <link rel="stylesheet" href="assets/css/global.css" />
    <link rel="stylesheet" href="assets/css/header.css" />
    <link rel="stylesheet" href="assets/css/newsletter.css" />
    <link rel="stylesheet" href="assets/css/footer.css" />
    <link rel="stylesheet" href="assets/css/checkout.css" />
</head>

<body>
    <section class="header-warning">
        <div class="mobile"><span>FRETE GRÁTIS</span> para todo o Brasil!</div>
        <div class="desktop"><span>FRETE GRÁTIS</span> para todo o Brasil nas compras acima de R$ 199,00.
            <span>APROVEITA!</span>
        </div>
    </section>
    <header>
        <div class="header-main">
            <div class="header-left">
                <a class="logo" href="./index.html">
                    <img src="assets/images/ui/logo-black.png" alt="B7Store" />
                </a>
                <ul>
                    <li><a href="produtos.html?categoriaProd=Camisetas">
                        Camisetas</a></li>
                    <li><a href="produtos.html">Kits DEVstore</a></li>
                    <li><a href="produtos.html?categoriaProd=Acessórios">
                        Acessórios</a></li>
                    <li><a href="produtos.html">Eletrônicos</a></li>
                </ul>
            </div>
            <div class="header-right">
                <input class="search" type="text" placeholder="Pesquisa" />
                <a href="login.html" class="btn-icon">
                    <img src="assets/images/ui/user-line.png" alt="" />
                </a>
                <a href="checkout.html" class="btn-icon">
                    <img src="assets/images/ui/shopping-bag-4-line.png" alt="" />
                </a>
                <a class="btn-icon menu-burger">
                    <img class="off" src="assets/images/ui/menu-line.png" alt="" />
                    <img class="on" src="assets/images/ui/menu-line-white.png" alt="" />
                </a>
            </div>
        </div>
        <div class="header-menu">
            <a href="produtos.html">Camisetas</a>
            <a href="produtos.html">Kits DEVstore</a>
            <a href="produtos.html">Acessórios</a>
            <a href="produtos.html">Eletrônicos</a>
        </div>
        <div class="header-search">
            <input class="search" type="text" placeholder="O que você procura?" />
        </div>
    </header>
    <main>

        <section class="checkout-header">
            <img src="assets/images/ui/shopping-bag-4-line.png" alt="" />
            <div>Sua sacola de compras <span>( 4 itens )</span></div>
        </section>

        <section class="checkout">
            <div class="products">
                <div class="products-area">

                    <div class="product-header">
                        <div>Produto</div>
                        <div>Preço</div>
                    </div>

                    <div class="product">
                        <div class="product-photo">
                            <img src="assets/images/products/camiseta-php-grafite.png" alt="" />
                        </div>
                        <div class="product-info">
                            <div class="product-name">Camiseta - PHP</div>
                            <div class="product-qt">
                                <div class="btn-icon">-</div>
                                <div class="product-qt-text">01</div>
                                <div class="btn-icon">+</div>
                            </div>
                        </div>
                        <div class="product-info2">
                            <div class="product-price">R$ 49,99</div>
                            <div class="btn-icon">
                                <img src="assets/images/ui/trash.png" alt="" />
                            </div>
                        </div>
                    </div>
                    <div class="product">
                        <div class="product-photo">
                            <img src="assets/images/products/camiseta-html.png" alt="" />
                        </div>
                        <div class="product-info">
                            <div class="product-name">Camiseta - HTML</div>
                            <div class="product-qt">
                                <div class="btn-icon">-</div>
                                <div class="product-qt-text">01</div>
                                <div class="btn-icon">+</div>
                            </div>
                        </div>
                        <div class="product-info2">
                            <div class="product-price">R$ 49,99</div>
                            <div class="btn-icon">
                                <img src="assets/images/ui/trash.png" alt="" />
                            </div>
                        </div>
                    </div>
                    <div class="product">
                        <div class="product-photo">
                            <img src="assets/images/products/camiseta-js.png" alt="" />
                        </div>
                        <div class="product-info">
                            <div class="product-name">Camiseta - JavaScript</div>
                            <div class="product-qt">
                                <div class="btn-icon">-</div>
                                <div class="product-qt-text">01</div>
                                <div class="btn-icon">+</div>
                            </div>
                        </div>
                        <div class="product-info2">
                            <div class="product-price">R$ 49,99</div>
                            <div class="btn-icon">
                                <img src="assets/images/ui/trash.png" alt="" />
                            </div>
                        </div>
                    </div>
                    <div class="product">
                        <div class="product-photo">
                            <img src="assets/images/products/camiseta-css.png" alt="" />
                        </div>
                        <div class="product-info">
                            <div class="product-name">Camiseta - CSS</div>
                            <div class="product-qt">
                                <div class="btn-icon">-</div>
                                <div class="product-qt-text">01</div>
                                <div class="btn-icon">+</div>
                            </div>
                        </div>
                        <div class="product-info2">
                            <div class="product-price">R$ 49,99</div>
                            <div class="btn-icon">
                                <img src="assets/images/ui/trash.png" alt="" />
                            </div>
                        </div>
                    </div>
                    <div class="product">
                        <div class="product-photo">
                            <img src="assets/images/products/camiseta-php.png" alt="" />
                        </div>
                        <div class="product-info">
                            <div class="product-name">Camiseta - PHP</div>
                            <div class="product-qt">
                                <div class="btn-icon">-</div>
                                <div class="product-qt-text">01</div>
                                <div class="btn-icon">+</div>
                            </div>
                        </div>
                        <div class="product-info2">
                            <div class="product-price">R$ 49,99</div>
                            <div class="btn-icon">
                                <img src="assets/images/ui/trash.png" alt="" />
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="info">

                <div class="shipping">
                    <div>Calcular frete e prazo</div>
                    <div class="shipping-area">
                        <input class="input" type="text" placeholder="Digite o CEP" />
                        <div class="button">Calcular</div>
                    </div>
                </div>

                <div class="shipping-result">
                    <div class="shipping-address">Rua das Flores - Jardins da Serra - Campos</div>
                    <div class="shipping-price-area">
                        <div class="shipping-price-text">Receba em até 7 dias úteis</div>
                        <div class="shipping-price-number">R$73,23</div>
                    </div>
                </div>

                <div class="subtotal">
                    <div class="area">
                        <div class="left">Subtotal</div>
                        <div class="right">R$ 158,99</div>
                    </div>
                    <div class="area divisor">
                        <div class="left">Frete</div>
                        <div class="right">--</div>
                    </div>
                    <div class="area">
                        <div class="left">Total</div>
                        <div class="right">
                            <div class="bigtotal">R$ 158,99</div>
                        </div>
                    </div>
                    <div class="payment">Forma de pagamento via PIX</div>
                    <div class="button">Continuar</div>
                    <a class="other-products" href="produtos.html">Comprar outros produtos</a>
                </div>

            </div>
        </section>

    </main>
    <section class="newsletter">
        <div class="news-area">
            <div class="news-left">
                <img src="assets/images/ui/mail-send-line.png" alt="" />
                <div>
                    <h3>Fique por dentro das promoções!</h3>
                    <p>Coloque seu e-mail e seja o primeiro a saber</p>
                </div>
            </div>
            <div class="news-right">
                <input class="input" type="text" placeholder="Qual seu e-mail?" />
                <button class="button">Enviar</button>
            </div>
        </div>
    </section>
    <footer>
        <div class="footer-menu">
            <a class="logo" href="">
                <img src="assets/images/ui/logo-white.png" alt="B7Store" />
            </a>
            <ul>
                <li><a href="produtos.html">Camisetas</a></li>
                <li><a href="produtos.html">Kits DEVstore</a></li>
                <li><a href="produtos.html">Acessórios</a></li>
                <li><a href="produtos.html">Eletrônicos</a></li>
            </ul>
        </div>
        <div class="footer-contacts">
            <div class="contacts">
                <div class="footer-title">Precisa de ajuda?</div>
                <div class="footer-icons">
                    <a class="btn-icon-text" href="">
                        <img src="assets/images/ui/mail-line.png" alt="" />
                        <span>devstore@email.com</span>
                    </a>
                    <a class="btn-icon-text" href="">
                        <img src="assets/images/ui/phone-line.png" alt="" />
                        <span>(00) 00000-0000</span>
                    </a>
                </div>
            </div>
            <div class="social">
                <div class="footer-title">Acompanhe nas redes sociais</div>
                <div class="footer-icons">

                    <a href="" class="btn-icon">
                        <img src="assets/images/ui/instagram-line.png" alt="" />
                    </a>

                    <a href="" class="btn-icon">
                        <img src="assets/images/ui/linkedin-line.png" alt="" />
                    </a>

                    <a href="" class="btn-icon">
                        <img src="assets/images/ui/facebook-line.png" alt="" />
                    </a>

                    <a href="" class="btn-icon">
                        <img src="assets/images/ui/twitter-x-fill.png" alt="" />
                    </a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="btn-icon">
                <img src="assets/images/ui/arrow-up-line.png" alt="" />
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="assets/js/header.js"></script>
    <script type="text/javascript" src="assets/js/footer.js"></script>
    <script type="text/javascript" src="assets/js/cart.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    function updateTotals() {
        let subtotal = 0;

        document.querySelectorAll(".product").forEach(product => {
            const priceText = product.querySelector(".product-price").innerText.replace("R$", "").trim();
            const price = parseFloat(priceText.replace(",", ".")); // Converte para número
            const quantity = parseInt(product.querySelector(".product-qt-text").innerText);

            subtotal += price * quantity;
        });

        // Atualiza o subtotal e o total na tela
        document.querySelector(".subtotal .right").innerText = `R$ ${subtotal.toFixed(2).replace(".", ",")}`;
        document.querySelector(".bigtotal").innerText = `R$ ${subtotal.toFixed(2).replace(".", ",")}`;
    }

    // Seleciona todos os produtos no checkout
    document.querySelectorAll(".product").forEach(product => {
        const btnMinus = product.querySelector(".btn-icon:first-child");
        const btnPlus = product.querySelector(".btn-icon:last-child");
        const quantityText = product.querySelector(".product-qt-text");
        const btnTrash = product.querySelector(".product-info2 .btn-icon img");

        // Aumentar quantidade
        btnPlus.addEventListener("click", function () {
            let quantity = parseInt(quantityText.innerText);
            quantityText.innerText = quantity + 1;
            updateTotals(); // Atualiza o subtotal e total
        });

        // Diminuir quantidade (não permite valores menores que 1)
        btnMinus.addEventListener("click", function () {
            let quantity = parseInt(quantityText.innerText);
            if (quantity > 1) {
                quantityText.innerText = quantity - 1;
                updateTotals(); // Atualiza o subtotal e total
            }
        });

        // Remover produto ao clicar no ícone de lixeira
        btnTrash.addEventListener("click", function () {
            product.remove(); // Remove o produto do DOM
            updateTotals(); // Atualiza o subtotal e total
        });
    });

    // Atualiza os valores ao carregar a página
    updateTotals();
});

    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
  const cartItemsArea = document.querySelector('.checkout .products-area');
  const cart = getCart();

  if (cart.length === 0) {
    cartItemsArea.innerHTML = '<p>Seu carrinho está vazio.</p>';
  } else {
    // Limpar o conteúdo inicial do carrinho
    cartItemsArea.innerHTML = `
      <div class="product-header">
        <div>Produto</div>
        <div>Preço</div>
      </div>
    `;

    cart.forEach(item => {
      const productElement = document.createElement('div');
      productElement.classList.add('product');
      productElement.innerHTML = `
        <div class="product-photo">
          <img src="${item.image}" alt="${item.name}" />
        </div>
        <div class="product-info">
          <div class="product-name">${item.name} - ${item.size}</div>
          <div class="product-qt">
            <div class="btn-icon">-</div>
            <div class="product-qt-text">${item.quantity}</div>
            <div class="btn-icon">+</div>
          </div>
        </div>
        <div class="product-info2">
          <div class="product-price">R$ ${item.price.toFixed(2).replace('.', ',')}</div>
          <div class="btn-icon">
            <img src="assets/images/ui/trash.png" alt="Remover" />
          </div>
        </div>
      `;
      cartItemsArea.appendChild(productElement);
    });

    // Atualizar os totais e configurar os eventos de quantidade e remoção
    updateTotals();
    setupCartInteractions();
  }
});

function updateTotals() {
  let subtotal = 0;
  const cart = getCart();

  cart.forEach(item => {
    subtotal += item.price * item.quantity;
  });

  document.querySelector('.subtotal .right').innerText = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
  document.querySelector('.bigtotal').innerText = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
}

function setupCartInteractions() {
  document.querySelectorAll('.product').forEach(product => {
    const btnMinus = product.querySelector('.btn-icon:first-child');
    const btnPlus = product.querySelector('.btn-icon:last-child');
    const quantityText = product.querySelector('.product-qt-text');
    const btnTrash = product.querySelector('.product-info2 .btn-icon img');

    btnPlus.addEventListener('click', function() {
      const cart = getCart();
      const productName = product.querySelector('.product-name').textContent;
      const productSize = productName.split("-")[1].trim();
      const productIndex = cart.findIndex(item => item.name + " - " + item.size === productName);

      if (productIndex !== -1) {
        cart[productIndex].quantity++;
        saveCart(cart);
        quantityText.innerText = cart[productIndex].quantity;
        updateTotals();
      }
    });

    btnMinus.addEventListener('click', function() {
      const cart = getCart();
      const productName = product.querySelector('.product-name').textContent;
      const productSize = productName.split("-")[1].trim();
      const productIndex = cart.findIndex(item => item.name + " - " + item.size === productName);

      if (productIndex !== -1 && cart[productIndex].quantity > 1) {
        cart[productIndex].quantity--;
        saveCart(cart);
        quantityText.innerText = cart[productIndex].quantity;
        updateTotals();
      }
    });

    btnTrash.addEventListener('click', function() {
      const cart = getCart();
      const productName = product.querySelector('.product-name').textContent;
      const productSize = productName.split("-")[1].trim();
      const productIndex = cart.findIndex(item => item.name + " - " + item.size === productName);

      if (productIndex !== -1) {
        cart.splice(productIndex, 1);
        saveCart(cart);
        product.remove();
        updateTotals();
      }
    });
  });
}
    </script>
</body>

</html>